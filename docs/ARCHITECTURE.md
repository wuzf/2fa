# ğŸ—ï¸ é¡¹ç›®æ¶æ„æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [æ€»ä½“æ¶æ„](#æ€»ä½“æ¶æ„)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [ä»£ç ç»“æ„](#ä»£ç ç»“æ„)
- [æ ¸å¿ƒæ¨¡å—è¯¦è§£](#æ ¸å¿ƒæ¨¡å—è¯¦è§£)
- [æ•°æ®æµ](#æ•°æ®æµ)
- [å‰ç«¯æ¶æ„](#å‰ç«¯æ¶æ„)
- [è®¾è®¡æ¨¡å¼](#è®¾è®¡æ¨¡å¼)

---

## æ€»ä½“æ¶æ„

### ä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”¨æˆ·å±‚                             â”‚
â”‚   æµè§ˆå™¨ / PWA / ç§»åŠ¨è®¾å¤‡                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ HTTPS
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Cloudflare Edge                        â”‚
â”‚   CDN + DDoS ä¿æŠ¤ + SSL + å…¨çƒåˆ†å¸ƒ                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cloudflare Workersï¼ˆåº”ç”¨å±‚ï¼‰                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è·¯ç”±å¤„ç†   â”‚  â”‚  APIæœåŠ¡    â”‚  â”‚  UIæ¸²æŸ“    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è®¤è¯ç³»ç»Ÿ   â”‚  â”‚  åŠ å¯†ç³»ç»Ÿ   â”‚  â”‚  ç›‘æ§ç³»ç»Ÿ  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Cloudflare KVï¼ˆæ•°æ®å­˜å‚¨å±‚ï¼‰                   â”‚
â”‚   å…¨çƒåˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ + è‡ªåŠ¨åŠ å¯† + ä½å»¶è¿Ÿ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç‰¹æ€§

- **æ— æœåŠ¡å™¨æ¶æ„**: åŸºäº Cloudflare Workersï¼Œæ— éœ€ç»´æŠ¤æœåŠ¡å™¨
- **å…¨çƒåˆ†å¸ƒ**: åœ¨å…¨çƒ 300+ ä¸ªåŸå¸‚çš„è¾¹ç¼˜èŠ‚ç‚¹ä¸Šè¿è¡Œ
- **é«˜å¯ç”¨æ€§**: è‡ªåŠ¨æ•…éšœè½¬ç§»å’Œè´Ÿè½½å‡è¡¡
- **ä½å»¶è¿Ÿ**: å°±è¿‘æœåŠ¡ï¼Œå¹³å‡å“åº”æ—¶é—´ < 50ms
- **è‡ªåŠ¨æ‰©å±•**: æ ¹æ®æµé‡è‡ªåŠ¨æ‰©ç¼©å®¹
- **é›¶å†·å¯åŠ¨**: V8 éš”ç¦»æŠ€æœ¯ï¼Œæ— å†·å¯åŠ¨å»¶è¿Ÿ

---

## æŠ€æœ¯æ ˆ

### åç«¯

| æŠ€æœ¯                   | ç”¨é€”       | ç‰ˆæœ¬      |
| ---------------------- | ---------- | --------- |
| **Cloudflare Workers** | è¿è¡Œæ—¶ç¯å¢ƒ | V8 Engine |
| **ES Modules**         | æ¨¡å—ç³»ç»Ÿ   | ES2022    |
| **Web Crypto API**     | åŠ å¯†æ“ä½œ   | æ ‡å‡† API  |
| **Cloudflare KV**      | æ•°æ®å­˜å‚¨   | -         |

### å‰ç«¯

| æŠ€æœ¯                    | ç”¨é€”       | è¯´æ˜                      |
| ----------------------- | ---------- | ------------------------- |
| **HTML5**               | é¡µé¢ç»“æ„   | è¯­ä¹‰åŒ–æ ‡ç­¾                |
| **CSS3**                | æ ·å¼ç³»ç»Ÿ   | æ¨¡å—åŒ– CSS                |
| **JavaScript (ES2022)** | äº¤äº’é€»è¾‘   | åŸç”Ÿ JSï¼Œæ— æ¡†æ¶           |
| **PWA**                 | åº”ç”¨å¢å¼º   | Service Worker + Manifest |
| **jsQR**                | äºŒç»´ç è¯†åˆ« | CDN å¼•å…¥                  |
| **qrcode-generator**    | äºŒç»´ç ç”Ÿæˆ | CDN å¼•å…¥                  |

### å¼€å‘å·¥å…·

| å·¥å…·             | ç”¨é€”             |
| ---------------- | ---------------- |
| **Wrangler CLI** | å¼€å‘å’Œéƒ¨ç½²å·¥å…·   |
| **Git**          | ç‰ˆæœ¬æ§åˆ¶         |
| **Node.js**      | æ„å»ºå·¥å…·è¿è¡Œç¯å¢ƒ |

---

## ä»£ç ç»“æ„

### å®Œæ•´ç›®å½•æ ‘

```
src/
â”œâ”€â”€ worker.js                      # ğŸ¯ Worker ä¸»å…¥å£
â”‚                                  # - Fetch äº‹ä»¶å¤„ç†
â”‚                                  # - CORS å¤„ç†
â”‚                                  # - å…¨å±€é”™è¯¯æ•è·
â”‚                                  # - ç›‘æ§ç³»ç»Ÿåˆå§‹åŒ–
â”‚
â”œâ”€â”€ router/
â”‚   â””â”€â”€ handler.js                 # ğŸ›£ï¸ è·¯ç”±å¤„ç†å™¨
â”‚                                  # - è·¯å¾„è§£æå’Œåˆ†å‘
â”‚                                  # - è®¤è¯æ£€æŸ¥
â”‚                                  # - API è·¯ç”±æ˜ å°„
â”‚
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ secrets/                   # ğŸ”Œ å¯†é’¥ç®¡ç† APIï¼ˆæ¨¡å—åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ index.js              # ç»Ÿä¸€å¯¼å‡ºï¼ˆBarrel Exportï¼‰
â”‚   â”‚   â”œâ”€â”€ shared.js             # å…±äº«å·¥å…·ï¼ˆsaveSecretsToKV, getAllSecretsï¼‰
â”‚   â”‚   â”œâ”€â”€ crud.js               # CRUD æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ batch.js              # æ‰¹é‡å¯¼å…¥
â”‚   â”‚   â”œâ”€â”€ backup.js             # å¤‡ä»½åˆ›å»ºå’Œåˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ restore.js            # å¤‡ä»½æ¢å¤å’Œå¯¼å‡º
â”‚   â”‚   â””â”€â”€ otp.js                # OTP ç”Ÿæˆ
â”‚   â””â”€â”€ favicon.js                 # ğŸŒ Favicon ä»£ç† API
â”‚
â”œâ”€â”€ otp/
â”‚   â””â”€â”€ generator.js               # ğŸ” OTP ç®—æ³•å®ç°
â”‚                                  # - TOTP (RFC 6238)
â”‚                                  # - HOTP (RFC 4226)
â”‚                                  # - Base32 ç¼–è§£ç 
â”‚
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ page.js                    # ğŸ¨ ä¸»é¡µé¢ç”Ÿæˆ
â”‚   â”‚                              # - HTML ç»“æ„
â”‚   â”‚                              # - æ ·å¼é›†æˆ
â”‚   â”‚                              # - è„šæœ¬é›†æˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ manifest.js                # ğŸ“± PWA Manifest
â”‚   â”‚                              # - åº”ç”¨ä¿¡æ¯
â”‚   â”‚                              # - å›¾æ ‡å®šä¹‰
â”‚   â”‚                              # - å¿«æ·æ–¹å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ serviceworker.js           # âš™ï¸ Service Worker
â”‚   â”‚                              # - ç¼“å­˜ç­–ç•¥
â”‚   â”‚                              # - ç¦»çº¿æ”¯æŒ
â”‚   â”‚                              # - CDN èµ„æºç¼“å­˜
â”‚   â”‚
â”‚   â”œâ”€â”€ scripts/                   # ğŸ“œ å‰ç«¯ JavaScript æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ index.js              # æ¨¡å—é›†æˆå…¥å£
â”‚   â”‚   â”œâ”€â”€ state.js              # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ auth.js               # è®¤è¯é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ core.js               # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ utils.js              # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ pwa.js                # PWA åŠŸèƒ½
â”‚   â”‚
â”‚   â””â”€â”€ styles/                    # ğŸ¨ å‰ç«¯ CSS æ¨¡å—
â”‚       â”œâ”€â”€ index.js              # æ ·å¼é›†æˆå…¥å£
â”‚       â”œâ”€â”€ base.js               # åŸºç¡€æ ·å¼
â”‚       â”œâ”€â”€ components.js         # ç»„ä»¶æ ·å¼
â”‚       â”œâ”€â”€ modals.js             # æ¨¡æ€æ¡†æ ·å¼
â”‚       â””â”€â”€ responsive.js         # å“åº”å¼æ ·å¼
â”‚
â””â”€â”€ utils/                         # ğŸ› ï¸ å·¥å…·æ¨¡å—
    â”œâ”€â”€ auth.js                    # ğŸ”‘ è®¤è¯ç³»ç»Ÿ
    â”‚                              # - Token éªŒè¯
    â”‚                              # - HttpOnly Cookie
    â”‚                              # - è‡ªåŠ¨åˆ·æ–°
    â”‚
    â”œâ”€â”€ backup.js                  # ğŸ’¾ æ™ºèƒ½å¤‡ä»½ç³»ç»Ÿ
    â”‚                              # - äº‹ä»¶é©±åŠ¨å¤‡ä»½
    â”‚                              # - é˜²æŠ–æœºåˆ¶
    â”‚                              # - è‡ªåŠ¨æ¸…ç†
    â”‚
    â”œâ”€â”€ constants.js               # ğŸ“‹ å¸¸é‡å®šä¹‰
    â”‚                              # - KV é”®å
    â”‚                              # - é…ç½®å¸¸é‡
    â”‚
    â”œâ”€â”€ crypto.js                  # ğŸ” åŠ å¯†å·¥å…·
    â”‚                              # - HMAC-SHA1/256
    â”‚                              # - Base32 ç¼–è§£ç 
    â”‚
    â”œâ”€â”€ encryption.js              # ğŸ”’ æ•°æ®åŠ å¯†
    â”‚                              # - AES-GCM 256
    â”‚                              # - å¯†é’¥æ´¾ç”Ÿ
    â”‚                              # - è‡ªåŠ¨åŠ è§£å¯†
    â”‚
    â”œâ”€â”€ errors.js                  # âŒ ç»Ÿä¸€é”™è¯¯åˆ†ç±»
    â”‚                              # - è‡ªå®šä¹‰é”™è¯¯ç±»
    â”‚                              # - é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼
    â”‚
    â”œâ”€â”€ logger.js                  # ğŸ“ æ—¥å¿—ç³»ç»Ÿ
    â”‚                              # - ç»“æ„åŒ–æ—¥å¿—
    â”‚                              # - æ€§èƒ½è®¡æ—¶
    â”‚                              # - æ—¥å¿—çº§åˆ«
    â”‚
    â”œâ”€â”€ monitoring.js              # ğŸ“Š ç›‘æ§ç³»ç»Ÿ
    â”‚                              # - é”™è¯¯è¿½è¸ª
    â”‚                              # - æ€§èƒ½ç›‘æ§
    â”‚                              # - Sentry é›†æˆ
    â”‚
    â”œâ”€â”€ rateLimit.js               # ğŸ›¡ï¸ è¯·æ±‚é™æµ
    â”‚                              # - å›ºå®šçª—å£è®¡æ•°å™¨ç®—æ³•
    â”‚                              # - å¯é…ç½®ç­–ç•¥
    â”‚                              # - åŸºäº KV å­˜å‚¨
    â”‚
    â”œâ”€â”€ response.js                # ğŸ“¡ å“åº”å·¥å…·
    â”‚                              # - æ ‡å‡†åŒ–å“åº”æ ¼å¼
    â”‚                              # - CORS å¤´å¤„ç†
    â”‚
    â”œâ”€â”€ security.js                # ğŸ”’ å®‰å…¨å·¥å…·
    â”‚                              # - CORS é…ç½®
    â”‚                              # - CSP å¤´
    â”‚                              # - é¢„æ£€è¯·æ±‚
    â”‚
    â””â”€â”€ validation.js              # âœ… æ•°æ®éªŒè¯
                                   # - Base32 éªŒè¯
                                   # - è¾“å…¥æ ¡éªŒ
                                   # - ä¸šåŠ¡è§„åˆ™æ£€æŸ¥
```

---

## æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. Worker ä¸»å…¥å£ (`worker.js`)

**èŒè´£**: Cloudflare Worker çš„å…¥å£ç‚¹ï¼Œå¤„ç†æ‰€æœ‰ä¼ å…¥è¯·æ±‚

**æ ¸å¿ƒåŠŸèƒ½**:

```javascript
export default {
	async fetch(request, env, ctx) {
		// 1. åˆå§‹åŒ–æ—¥å¿—å’Œç›‘æ§
		// 2. å¤„ç† CORS é¢„æ£€è¯·æ±‚
		// 3. å¼€å§‹è¯·æ±‚è¿½è¸ª
		// 4. è°ƒç”¨è·¯ç”±å¤„ç†å™¨
		// 5. è®°å½•å“åº”å’Œæ€§èƒ½æŒ‡æ ‡
		// 6. å…¨å±€é”™è¯¯å¤„ç†
	},

	async scheduled(event, env, ctx) {
		// å®šæ—¶ä»»åŠ¡ï¼šè‡ªåŠ¨å¤‡ä»½ï¼ˆæ¯å¤©ï¼‰
	},
};
```

**é›†æˆçš„ç³»ç»Ÿ**:

- æ—¥å¿—ç³»ç»Ÿ (`logger.js`)
- ç›‘æ§ç³»ç»Ÿ (`monitoring.js`)
- è·¯ç”±å¤„ç† (`router/handler.js`)
- CORS å¤„ç† (`utils/security.js`)

---

### 2. è·¯ç”±å¤„ç†å™¨ (`router/handler.js`)

**èŒè´£**: è§£æ URL è·¯å¾„å¹¶åˆ†å‘åˆ°å¯¹åº”çš„å¤„ç†å‡½æ•°

**è·¯ç”±è¡¨**:

| è·¯ç”±                       | æ–¹æ³•   | å¤„ç†å™¨                    | è®¤è¯ |
| -------------------------- | ------ | ------------------------- | ---- |
| `/`                        | GET    | `createMainPage()`        | âŒ   |
| `/setup`                   | GET    | `createSetupPage()`       | âŒ   |
| `/manifest.json`           | GET    | `createManifest()`        | âŒ   |
| `/sw.js`                   | GET    | `createServiceWorker()`   | âŒ   |
| `/icon-*.png`              | GET    | `createDefaultIcon()`     | âŒ   |
| `/modules/{name}`          | GET    | `getModuleCode()`         | âœ…   |
| `/api/setup`               | POST   | `handleFirstTimeSetup()`  | âŒ   |
| `/api/login`               | POST   | `handleLogin()`           | âŒ   |
| `/api/refresh-token`       | POST   | `handleRefreshToken()`    | âœ…   |
| `/api/secrets`             | GET    | `handleGetSecrets()`      | âœ…   |
| `/api/secrets`             | POST   | `handleAddSecret()`       | âœ…   |
| `/api/secrets/{id}`        | PUT    | `handleUpdateSecret()`    | âœ…   |
| `/api/secrets/{id}`        | DELETE | `handleDeleteSecret()`    | âœ…   |
| `/api/secrets/batch`       | POST   | `handleBatchAddSecrets()` | âœ…   |
| `/api/backup`              | GET    | `handleGetBackups()`      | âœ…   |
| `/api/backup`              | POST   | `handleBackupSecrets()`   | âœ…   |
| `/api/backup/restore`      | POST   | `handleRestoreBackup()`   | âœ…   |
| `/api/backup/export/{key}` | GET    | `handleExportBackup()`    | âœ…   |
| `/api/favicon/{domain}`    | GET    | `handleFaviconProxy()`    | âœ…   |
| `/otp/{secret}`            | GET    | `handleGenerateOTP()`     | âŒ   |

---

### 3. å¯†é’¥ç®¡ç† API (`api/secrets/`)

**èŒè´£**: å¤„ç† 2FA å¯†é’¥çš„ CRUD æ“ä½œå’Œå¤‡ä»½ç®¡ç†

**æ¨¡å—åŒ–ç»„ç»‡**:

- `shared.js` - å…±äº«å·¥å…·å‡½æ•°ï¼ˆsaveSecretsToKV, getAllSecretsï¼‰
- `crud.js` - CRUD æ“ä½œï¼ˆGET/POST/PUT/DELETEï¼‰
- `batch.js` - æ‰¹é‡å¯¼å…¥
- `backup.js` - å¤‡ä»½åˆ›å»ºå’Œåˆ—è¡¨
- `restore.js` - å¤‡ä»½æ¢å¤å’Œå¯¼å‡º
- `otp.js` - OTP ç”Ÿæˆ
- `index.js` - ç»Ÿä¸€å¯¼å‡ºï¼ˆBarrel Exportï¼‰

**æ ¸å¿ƒåŠŸèƒ½**:

#### æ•°æ®è‡ªåŠ¨åŠ å¯†

```javascript
async function saveSecretsToKV(env, secrets, reason) {
	// 1. æ’åºå¯†é’¥
	sortSecretsByName(secrets);

	// 2. åŠ å¯†æ•°æ®ï¼ˆå¦‚æœé…ç½®äº† ENCRYPTION_KEYï¼‰
	const encryptedData = await encryptSecrets(secrets, env);

	// 3. ä¿å­˜åˆ° KV
	await env.SECRETS_KV.put('secrets', encryptedData);

	// 4. è§¦å‘äº‹ä»¶é©±åŠ¨å¤‡ä»½
	await triggerBackup(secrets, env, { reason });
}
```

#### è¯·æ±‚é™æµé›†æˆ

```javascript
export async function handleAddSecret(request, env) {
	// 1. æ£€æŸ¥é™æµ
	const rateLimitResult = await checkRateLimit(request, env, RATE_LIMIT_PRESETS.api);

	if (!rateLimitResult.allowed) {
		return createRateLimitResponse(rateLimitResult);
	}

	// 2. å¤„ç†è¯·æ±‚...
}
```

---

### 4. OTP ç”Ÿæˆå™¨ (`otp/generator.js`)

**èŒè´£**: å®ç° TOTP/HOTP ç®—æ³•ï¼Œç”Ÿæˆä¸€æ¬¡æ€§å¯†ç 

**æ”¯æŒçš„ç®—æ³•**:

#### TOTP (Time-based OTP) - RFC 6238

```javascript
/**
 * ç®—æ³•æµç¨‹:
 * 1. è®¡ç®—æ—¶é—´è®¡æ•°å™¨ (counter = floor(currentTime / 30))
 * 2. å°† Base32 å¯†é’¥è§£ç ä¸ºå­—èŠ‚æ•°ç»„
 * 3. ä½¿ç”¨ HMAC-SHA1 è®¡ç®—å“ˆå¸Œå€¼
 * 4. åŠ¨æ€æˆªæ–­ç”Ÿæˆ 6 ä½æ•°å­— OTP
 */
export async function generateTOTP(secret, options = {}) {
	const {
		timeStep = 30, // æ—¶é—´æ­¥é•¿ï¼ˆç§’ï¼‰
		digits = 6, // OTP é•¿åº¦
		algorithm = 'SHA1', // å“ˆå¸Œç®—æ³•
	} = options;

	const counter = Math.floor(Date.now() / 1000 / timeStep);
	return await generateHOTP(secret, counter, { digits, algorithm });
}
```

#### HOTP (HMAC-based OTP) - RFC 4226

```javascript
export async function generateHOTP(secret, counter, options = {}) {
	// 1. Base32 è§£ç 
	const key = base32Decode(secret);

	// 2. è®¡æ•°å™¨è½¬å­—èŠ‚æ•°ç»„
	const counterBytes = new ArrayBuffer(8);
	const view = new DataView(counterBytes);
	view.setUint32(4, counter, false); // å¤§ç«¯åº

	// 3. HMAC-SHA1
	const hmac = await crypto.subtle.sign('HMAC', key, counterBytes);

	// 4. åŠ¨æ€æˆªæ–­
	const offset = hmac[hmac.length - 1] & 0x0f;
	const binary =
		((hmac[offset] & 0x7f) << 24) | ((hmac[offset + 1] & 0xff) << 16) | ((hmac[offset + 2] & 0xff) << 8) | (hmac[offset + 3] & 0xff);

	// 5. ç”Ÿæˆ OTP
	const otp = binary % Math.pow(10, digits);
	return otp.toString().padStart(digits, '0');
}
```

---

### 5. è®¤è¯ç³»ç»Ÿ (`utils/auth.js`)

**èŒè´£**: ç®¡ç†ç”¨æˆ·èº«ä»½è®¤è¯å’Œæˆæƒ

**æ¶æ„è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     ç™»å½•è¯·æ±‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµè§ˆå™¨   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚  Worker   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â†‘                              â”‚
      â”‚                              â–¼
      â”‚                    éªŒè¯å¯†ç ï¼ˆKVå­˜å‚¨ï¼‰
      â”‚                              â”‚
      â”‚                              â–¼
      â”‚  Set-Cookie:             ç”Ÿæˆ JWT
      â”‚  auth_token=...             â”‚
      â”‚  HttpOnly; Secure           â”‚
      â”‚  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚     åç»­è¯·æ±‚ï¼ˆè‡ªåŠ¨æºå¸¦ Cookieï¼‰
      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
      â”‚
      â”‚     éªŒè¯ JWT + è‡ªåŠ¨åˆ·æ–°
      â”‚  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**æ ¸å¿ƒåŠŸèƒ½**:

#### HttpOnly Cookie è®¤è¯

```javascript
// ç”Ÿæˆè®¤è¯ Cookie
function createAuthCookie(token, expiresAt) {
	const maxAge = Math.floor((expiresAt - Date.now()) / 1000);

	return [
		`auth_token=${token}`,
		'HttpOnly', // é˜²æ­¢ XSS
		'Secure', // ä»… HTTPS
		'SameSite=Strict', // é˜²æ­¢ CSRF
		`Max-Age=${maxAge}`,
		'Path=/',
	].join('; ');
}
```

#### Token è‡ªåŠ¨åˆ·æ–°

```javascript
export async function handleRefreshToken(request, env) {
	// 1. éªŒè¯å½“å‰ Token
	const currentToken = extractTokenFromCookie(request);
	if (!isValidToken(currentToken)) {
		return createUnauthorizedResponse();
	}

	// 2. ç”Ÿæˆæ–° Token
	const newToken = await generateJWT({
		iat: Math.floor(Date.now() / 1000),
		exp: Math.floor(Date.now() / 1000) + 7 * 24 * 60 * 60, // 7å¤©
	});

	// 3. è®¾ç½®æ–° Cookie
	return new Response(JSON.stringify({ success: true }), {
		headers: {
			'Set-Cookie': createAuthCookie(newToken, Date.now() + 7 * 24 * 60 * 60 * 1000),
			'Content-Type': 'application/json',
		},
	});
}
```

---

### 6. åŠ å¯†ç³»ç»Ÿ (`utils/encryption.js`)

**èŒè´£**: ä½¿ç”¨ AES-GCM 256 ä½åŠ å¯†ä¿æŠ¤æ•æ„Ÿæ•°æ®

**åŠ å¯†æµç¨‹**:

```
æ˜æ–‡æ•°æ® â†’ JSON.stringify â†’ UTF-8 ç¼–ç 
    â†“
ç”Ÿæˆéšæœº IV (96 bits)
    â†“
AES-GCM 256 åŠ å¯†
    â†“
è®¤è¯æ ‡ç­¾ (128 bits)
    â†“
{encrypted: base64(å¯†æ–‡), iv: base64(IV)}
    â†“
JSON.stringify â†’ Base64 ç¼–ç 
    â†“
å­˜å‚¨åˆ° KV
```

**æ ¸å¿ƒå®ç°**:

```javascript
export async function encryptData(data, env) {
	// 1. æ£€æŸ¥æ˜¯å¦é…ç½®äº†åŠ å¯†å¯†é’¥
	if (!env.ENCRYPTION_KEY) {
		// æœªé…ç½®å¯†é’¥ï¼Œè¿”å›æ˜æ–‡
		return typeof data === 'string' ? data : JSON.stringify(data);
	}

	// 2. å¯¼å…¥åŠ å¯†å¯†é’¥
	const keyBuffer = base64ToArrayBuffer(env.ENCRYPTION_KEY);
	const key = await crypto.subtle.importKey('raw', keyBuffer, { name: 'AES-GCM' }, false, ['encrypt']);

	// 3. ç”Ÿæˆéšæœº IV
	const iv = crypto.getRandomValues(new Uint8Array(12));

	// 4. åŠ å¯†æ•°æ®
	const plaintext = new TextEncoder().encode(typeof data === 'string' ? data : JSON.stringify(data));

	const ciphertext = await crypto.subtle.encrypt({ name: 'AES-GCM', iv }, key, plaintext);

	// 5. æ‰“åŒ…åŠ å¯†ç»“æœ
	const encrypted = {
		encrypted: arrayBufferToBase64(ciphertext),
		iv: arrayBufferToBase64(iv.buffer),
	};

	// 6. æ·»åŠ åŠ å¯†æ ‡è®°å¹¶è¿”å›
	return `__ENCRYPTED__${btoa(JSON.stringify(encrypted))}`;
}
```

**è‡ªåŠ¨æ£€æµ‹å’Œè§£å¯†**:

```javascript
export async function decryptSecrets(data, env) {
	if (!data) return [];

	// æ£€æŸ¥æ˜¯å¦å·²åŠ å¯†
	if (isEncrypted(data)) {
		// æ•°æ®å·²åŠ å¯†ï¼Œéœ€è¦è§£å¯†
		if (!env.ENCRYPTION_KEY) {
			console.error('æ•°æ®å·²åŠ å¯†ä½†æœªé…ç½® ENCRYPTION_KEY');
			return [];
		}
		return await decryptData(data, env);
	} else {
		// æ•°æ®æœªåŠ å¯†ï¼ˆæ˜æ–‡æˆ–æ—§æ•°æ®ï¼‰
		try {
			return JSON.parse(data);
		} catch (error) {
			console.error('è§£ææ•°æ®å¤±è´¥:', error);
			return [];
		}
	}
}
```

---

### 7. å¤‡ä»½ç³»ç»Ÿ (`utils/backup.js`)

**èŒè´£**: å®ç°æ™ºèƒ½å¤‡ä»½ç­–ç•¥ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±

**å¤‡ä»½ç­–ç•¥**:

#### 1. äº‹ä»¶é©±åŠ¨å¤‡ä»½

```
ç”¨æˆ·æ“ä½œ â†’ æ•°æ®å˜æ›´ â†’ è§¦å‘å¤‡ä»½
    â†“
é˜²æŠ–æ£€æŸ¥ (5åˆ†é’Ÿå†…åªå¤‡ä»½ä¸€æ¬¡)
    â†“
æ‰§è¡Œå¤‡ä»½ â†’ åŠ å¯† â†’ å­˜å‚¨åˆ° KV
    â†“
è‡ªåŠ¨æ¸…ç† (ä¿ç•™æœ€æ–°100ä¸ª)
```

#### 2. å®šæ—¶å¤‡ä»½ï¼ˆå…œåº•ï¼‰

```
Cron è§¦å‘ (æ¯å¤©)
    â†“
æ£€æŸ¥æ•°æ®æ˜¯å¦å˜åŒ–
    â†“
å¦‚æœå˜åŒ– â†’ æ‰§è¡Œå¤‡ä»½
```

**æ ¸å¿ƒå®ç°**:

```javascript
class BackupManager {
	constructor(env) {
		this.env = env;
		this.lastBackupTime = 0;
		this.pendingBackup = null;
		this.backupInProgress = false;
	}

	/**
	 * è§¦å‘å¤‡ä»½ï¼ˆå¸¦é˜²æŠ–ï¼‰
	 */
	async triggerBackup(secrets, options = {}) {
		const { immediate = false, reason = 'event-driven' } = options;

		// å¦‚æœæ­£åœ¨å¤‡ä»½ï¼Œè·³è¿‡
		if (this.backupInProgress) {
			return null;
		}

		// é˜²æŠ–æ£€æŸ¥ï¼ˆé™¤éæ˜¯ç«‹å³å¤‡ä»½ï¼‰
		if (!immediate && !this.shouldBackup()) {
			// å–æ¶ˆä¹‹å‰çš„å¾…å¤„ç†å¤‡ä»½
			if (this.pendingBackup) {
				clearTimeout(this.pendingBackup);
			}

			// è®¾ç½®å»¶è¿Ÿå¤‡ä»½
			const remainingTime = DEBOUNCE_INTERVAL - (Date.now() - this.lastBackupTime);
			this.pendingBackup = setTimeout(() => {
				this.executeBackup(secrets, reason);
			}, remainingTime);

			return { scheduled: true, delay: remainingTime };
		}

		// ç«‹å³æ‰§è¡Œå¤‡ä»½
		return await this.executeBackup(secrets, reason);
	}

	/**
	 * æ‰§è¡Œå¤‡ä»½
	 */
	async executeBackup(secrets, reason) {
		this.backupInProgress = true;
		const startTime = Date.now();

		try {
			// 1. ç”Ÿæˆå¤‡ä»½ID
			const backupId = `backup_${Date.now()}`;

			// 2. åŠ å¯†å¤‡ä»½æ•°æ®
			const backupData = {
				id: backupId,
				timestamp: new Date().toISOString(),
				count: secrets.length,
				reason,
				data: secrets,
			};

			const encrypted = await encryptData(backupData, this.env);

			// 3. ä¿å­˜åˆ° KV
			await this.env.SECRETS_KV.put(backupId, encrypted);

			// 4. æ›´æ–°å¤‡ä»½åˆ—è¡¨
			await this._updateBackupsList(backupId);

			// 5. æ¸…ç†æ—§å¤‡ä»½
			await this._cleanupOldBackupsAsync();

			// 6. è®°å½•æ€§èƒ½æŒ‡æ ‡
			const duration = Date.now() - startTime;
			this.logger.info('âœ… å¤‡ä»½æˆåŠŸ', {
				backupId,
				reason,
				count: secrets.length,
				duration: `${duration}ms`,
			});

			this.lastBackupTime = Date.now();
			return { success: true, backupId, duration };
		} catch (error) {
			this.logger.error('âŒ å¤‡ä»½å¤±è´¥', { reason }, error);
			throw error;
		} finally {
			this.backupInProgress = false;
		}
	}

	/**
	 * æ¸…ç†æ—§å¤‡ä»½
	 */
	async _cleanupOldBackupsAsync() {
		const list = await this.env.SECRETS_KV.list({ prefix: 'backup_' });
		const backups = list.keys;

		if (backups.length > MAX_BACKUPS) {
			// æŒ‰æ—¶é—´æ’åºï¼Œåˆ é™¤æœ€æ—§çš„å¤‡ä»½
			const toDelete = backups.sort((a, b) => a.name.localeCompare(b.name)).slice(0, backups.length - MAX_BACKUPS);

			for (const backup of toDelete) {
				await this.env.SECRETS_KV.delete(backup.name);
			}

			this.logger.info(`ğŸ—‘ï¸ å·²æ¸…ç† ${toDelete.length} ä¸ªæ—§å¤‡ä»½`);
		}
	}
}
```

---

### 8. ç›‘æ§ç³»ç»Ÿ (`utils/logger.js` + `utils/monitoring.js`)

**èŒè´£**: æä¾›ç»“æ„åŒ–æ—¥å¿—å’Œé”™è¯¯è¿½è¸ª

**æ—¥å¿—ç³»ç»Ÿæ¶æ„**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logger API   â”‚
â”‚  (logger.js)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â†’ Console (å¼€å‘ç¯å¢ƒ)
        â”œâ”€â†’ Sentry (ç”Ÿäº§ç¯å¢ƒ)
        â””â”€â†’ Cloudflare Analytics
```

**æ ¸å¿ƒåŠŸèƒ½**:

#### ç»“æ„åŒ–æ—¥å¿—

```javascript
class Logger {
	constructor(env, context = {}) {
		this.env = env;
		this.context = context;
		this.level = env.LOG_LEVEL || 'INFO';
	}

	info(message, meta = {}) {
		this._log('INFO', message, meta);
	}

	error(message, meta = {}, error = null) {
		this._log('ERROR', message, { ...meta, error: error?.stack });

		// åŒæ—¶å‘é€åˆ°é”™è¯¯ç›‘æ§
		if (error) {
			monitoring.captureError(error, meta, ErrorSeverity.ERROR);
		}
	}

	_log(level, message, meta) {
		if (!this._shouldLog(level)) return;

		const logEntry = {
			level,
			message,
			timestamp: new Date().toISOString(),
			context: this.context,
			meta,
		};

		console.log(JSON.stringify(logEntry));
	}
}
```

#### æ€§èƒ½è®¡æ—¶

```javascript
class PerformanceTimer {
	constructor(name, logger) {
		this.name = name;
		this.logger = logger;
		this.startTime = Date.now();
		this.checkpoints = [];
	}

	checkpoint(label) {
		const elapsed = Date.now() - this.startTime;
		this.checkpoints.push({ label, elapsed });
	}

	end(meta = {}) {
		const duration = Date.now() - this.startTime;

		this.logger.info(`â±ï¸ ${this.name} completed`, {
			duration: `${duration}ms`,
			checkpoints: this.checkpoints,
			...meta,
		});

		// è®°å½•åˆ°æ€§èƒ½ç›‘æ§
		monitoring.recordMetric(this.name, duration, 'ms', meta);
	}
}
```

#### Sentry é›†æˆ

```javascript
class ErrorMonitor {
	constructor(env) {
		this.env = env;
		this.sentryDSN = env.SENTRY_DSN;
		this.enabled = !!this.sentryDSN;
	}

	captureError(error, context = {}, severity = ErrorSeverity.ERROR) {
		// ç”Ÿæˆé”™è¯¯ID
		const errorId = `err_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;

		// æœ¬åœ°æ—¥å¿—
		console.error('[ErrorMonitor]', {
			errorId,
			message: error.message,
			stack: error.stack,
			context,
			severity,
		});

		// å‘é€åˆ° Sentryï¼ˆå¦‚æœé…ç½®ï¼‰
		if (this.enabled) {
			this._sendToSentry({
				errorId,
				error,
				context,
				severity,
				timestamp: new Date().toISOString(),
			});
		}

		return { errorId, captured: this.enabled };
	}

	async _sendToSentry(data) {
		// Sentry API é›†æˆ
		try {
			await fetch(this.sentryDSN, {
				method: 'POST',
				headers: { 'Content-Type': 'application/json' },
				body: JSON.stringify({
					event_id: data.errorId,
					message: data.error.message,
					level: data.severity.toLowerCase(),
					exception: {
						values: [
							{
								type: data.error.name,
								value: data.error.message,
								stacktrace: { frames: this._parseStackTrace(data.error.stack) },
							},
						],
					},
					extra: data.context,
					timestamp: data.timestamp,
				}),
			});
		} catch (err) {
			console.error('[Sentry] Failed to send error:', err);
		}
	}
}
```

---

### 9. é™æµç³»ç»Ÿ (`utils/rateLimit.js`)

**èŒè´£**: é˜²æ­¢ API æ»¥ç”¨å’Œ DDoS æ”»å‡»

**ç®—æ³•**: å›ºå®šçª—å£è®¡æ•°å™¨ (Fixed Window Counter)

```
æ—¶é—´è½´: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
         â”‚    çª—å£ 1     â”‚    çª—å£ 2     â”‚
      t=0s           t=60s          t=120s
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           è®¡æ•°å™¨é‡ç½®      è®¡æ•°å™¨é‡ç½®

çª—å£å†…è®¡æ•°: count â‰¤ maxAttempts
çª—å£è¿‡æœŸ: resetAt æ—¶é—´åˆ°è¾¾æ—¶ï¼Œåˆ›å»ºæ–°çª—å£
```

**æ ¸å¿ƒå®ç°**:

```javascript
export async function checkRateLimit(key, env, options) {
	const { maxAttempts = 5, windowSeconds = 60 } = options;
	const rateLimitKey = `ratelimit:${key}`;

	// 1. è·å–å½“å‰é™æµæ•°æ®
	const data = await env.SECRETS_KV.get(rateLimitKey, 'json');
	const now = Date.now();

	// 2. å¦‚æœæ²¡æœ‰æ•°æ®æˆ–çª—å£å·²è¿‡æœŸï¼Œåˆ›å»ºæ–°çª—å£
	if (!data || now > data.resetAt) {
		await env.SECRETS_KV.put(
			rateLimitKey,
			JSON.stringify({
				count: 1,
				resetAt: now + windowSeconds * 1000,
				firstRequest: now,
			}),
			{
				expirationTtl: windowSeconds + 10,
			},
		);

		return {
			allowed: true,
			remaining: maxAttempts - 1,
			resetAt: now + windowSeconds * 1000,
			limit: maxAttempts,
		};
	}

	// 3. æ£€æŸ¥æ˜¯å¦è¶…è¿‡é™åˆ¶
	if (data.count >= maxAttempts) {
		return {
			allowed: false,
			remaining: 0,
			resetAt: data.resetAt,
			limit: maxAttempts,
		};
	}

	// 4. å¢åŠ è®¡æ•°
	data.count++;
	await env.SECRETS_KV.put(rateLimitKey, JSON.stringify(data), {
		expirationTtl: Math.ceil((data.resetAt - now) / 1000) + 10,
	});

	return {
		allowed: true,
		remaining: maxAttempts - data.count,
		resetAt: data.resetAt,
		limit: maxAttempts,
	};
}
```

**é¢„è®¾ç­–ç•¥**:

```javascript
export const RATE_LIMIT_PRESETS = {
	// ç™»å½•ï¼šæ¯åˆ†é’Ÿ 5 æ¬¡
	login: {
		maxAttempts: 5,
		windowSeconds: 60,
	},

	// API æ“ä½œï¼šæ¯åˆ†é’Ÿ 30 æ¬¡
	api: {
		maxAttempts: 30,
		windowSeconds: 60,
	},

	// æ•æ„Ÿæ“ä½œï¼šæ¯åˆ†é’Ÿ 10 æ¬¡
	sensitive: {
		maxAttempts: 10,
		windowSeconds: 60,
	},

	// æ‰¹é‡æ“ä½œï¼šæ¯ 5 åˆ†é’Ÿ 5 æ¬¡
	bulk: {
		maxAttempts: 5,
		windowSeconds: 300,
	},

	// å…¨å±€ä¿æŠ¤ï¼šæ¯åˆ†é’Ÿ 100 æ¬¡
	global: {
		maxAttempts: 100,
		windowSeconds: 60,
	},
};
```

**ç®—æ³•é€‰æ‹©ç†ç”±**:

- âœ… å®ç°ç®€å•ï¼Œæ€§èƒ½é«˜æ•ˆï¼ˆå•æ¬¡ KV æ“ä½œï¼‰
- âœ… å†…å­˜å ç”¨ä½ï¼ˆåªå­˜å‚¨è®¡æ•°å’Œçª—å£ç»“æŸæ—¶é—´ï¼‰
- âœ… å®Œç¾é€‚é… Cloudflare Workers æ— çŠ¶æ€æ¶æ„
- âš ï¸ å­˜åœ¨çª—å£è¾¹ç•Œæ•ˆåº”ï¼ˆå¯èƒ½ 2å€çªå‘æµé‡ï¼‰

---

## æ•°æ®æµ

### å®Œæ•´è¯·æ±‚å¤„ç†æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¯·æ±‚] --> B{CORS é¢„æ£€?}
    B -->|æ˜¯| C[è¿”å› CORS å“åº”]
    B -->|å¦| D[åˆå§‹åŒ–æ—¥å¿—å’Œç›‘æ§]
    D --> E[å¼€å§‹æ€§èƒ½è¿½è¸ª]
    E --> F{éœ€è¦è®¤è¯?}
    F -->|æ˜¯| G{Token æœ‰æ•ˆ?}
    G -->|å¦| H[è¿”å› 401 æœªæˆæƒ]
    G -->|æ˜¯| I[è·¯ç”±è§£æ]
    F -->|å¦| I
    I --> J{è·¯ç”±ç±»å‹}
    J -->|é™æ€é¡µé¢| K[ç”Ÿæˆ HTML]
    J -->|API è¯·æ±‚| L{æ£€æŸ¥é™æµ}
    J -->|PWA èµ„æº| M[è¿”å› Manifest/SW/Icon]
    L -->|è¶…è¿‡é™æµ| N[è¿”å› 429]
    L -->|é€šè¿‡| O[å¤„ç† API è¯·æ±‚]
    O --> P{æ“ä½œç±»å‹}
    P -->|è¯»å–| Q[ä» KV è¯»å–]
    P -->|å†™å…¥| R[éªŒè¯æ•°æ®]
    Q --> S[è§£å¯†æ•°æ®]
    R --> T[åŠ å¯†æ•°æ®]
    S --> U[è¿”å›å“åº”]
    T --> V[ä¿å­˜åˆ° KV]
    V --> W[è§¦å‘å¤‡ä»½]
    W --> U
    K --> U
    M --> U
    U --> X[è®°å½•æ€§èƒ½æŒ‡æ ‡]
    X --> Y[ç»“æŸ]
```

### æ•°æ®åŠ å¯†æµç¨‹

```mermaid
graph LR
    A[ç”¨æˆ·æäº¤å¯†é’¥] --> B[å®¢æˆ·ç«¯éªŒè¯]
    B --> C[å‘é€åˆ° API]
    C --> D{ENCRYPTION_KEY<br/>å·²é…ç½®?}
    D -->|æ˜¯| E[ç”Ÿæˆéšæœº IV]
    E --> F[AES-GCM åŠ å¯†]
    F --> G[ç”Ÿæˆè®¤è¯æ ‡ç­¾]
    G --> H[æ‰“åŒ…: encrypted+iv]
    H --> I[Base64 ç¼–ç ]
    I --> J[æ·»åŠ åŠ å¯†æ ‡è®°]
    J --> K[å­˜å‚¨åˆ° KV]
    D -->|å¦| L[JSON.stringify]
    L --> K

    K2[ä» KV è¯»å–] --> M{æ£€æµ‹åŠ å¯†æ ‡è®°}
    M -->|å·²åŠ å¯†| N[Base64 è§£ç ]
    N --> O[æå– encrypted+iv]
    O --> P[AES-GCM è§£å¯†]
    P --> Q[éªŒè¯è®¤è¯æ ‡ç­¾]
    Q --> R[è¿”å›æ˜æ–‡æ•°æ®]
    M -->|æœªåŠ å¯†| S[JSON.parse]
    S --> R
```

### å¤‡ä»½è§¦å‘æµç¨‹

```mermaid
graph TD
    A[æ•°æ®å˜æ›´æ“ä½œ] --> B[ä¿å­˜åˆ° KV]
    B --> C[è§¦å‘å¤‡ä»½]
    C --> D{æ­£åœ¨å¤‡ä»½?}
    D -->|æ˜¯| E[è·³è¿‡]
    D -->|å¦| F{é˜²æŠ–æ£€æŸ¥}
    F -->|< 5åˆ†é’Ÿ| G[å–æ¶ˆæ—§å¤‡ä»½]
    G --> H[è®¾ç½®å»¶è¿Ÿå¤‡ä»½]
    F -->|â‰¥ 5åˆ†é’Ÿ| I[ç«‹å³æ‰§è¡Œå¤‡ä»½]
    I --> J[åŠ å¯†å¤‡ä»½æ•°æ®]
    J --> K[ç”Ÿæˆå¤‡ä»½ID]
    K --> L[ä¿å­˜åˆ° KV]
    L --> M[æ›´æ–°å¤‡ä»½åˆ—è¡¨]
    M --> N{å¤‡ä»½æ•°é‡ > 100?}
    N -->|æ˜¯| O[åˆ é™¤æœ€æ—§å¤‡ä»½]
    N -->|å¦| P[å®Œæˆ]
    O --> P

    Q[å®šæ—¶ä»»åŠ¡<br/>æ¯å¤©] --> R{æ•°æ®æœ‰å˜åŒ–?}
    R -->|æ˜¯| C
    R -->|å¦| S[è·³è¿‡]
```

---

## å‰ç«¯æ¶æ„

### æ¨¡å—åŒ– JavaScript (5 ä¸ªæ¨¡å—)

```
scripts/
â”œâ”€â”€ state.js          # å…¨å±€çŠ¶æ€å˜é‡
â”‚   â””â”€â”€ å®šä¹‰æ‰€æœ‰å…¨å±€å˜é‡ï¼ˆsecrets, scannerStream, etc.ï¼‰
â”‚
â”œâ”€â”€ auth.js           # è®¤è¯é€»è¾‘
â”‚   â”œâ”€â”€ showLoginModal()
â”‚   â”œâ”€â”€ hideLoginModal()
â”‚   â”œâ”€â”€ checkAuth()
â”‚   â”œâ”€â”€ refreshAuthToken()
â”‚   â””â”€â”€ authenticatedFetch()
â”‚
â”œâ”€â”€ core.js           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (æœ€å¤§æ¨¡å—ï¼Œ106KB)
â”‚   â”œâ”€â”€ loadSecrets()
â”‚   â”œâ”€â”€ renderSecrets()
â”‚   â”œâ”€â”€ handleAddSecret()
â”‚   â”œâ”€â”€ handleEditSecret()
â”‚   â”œâ”€â”€ handleDeleteSecret()
â”‚   â”œâ”€â”€ startOTPCountdown()
â”‚   â”œâ”€â”€ showQRCodeModal()
â”‚   â”œâ”€â”€ startQRScanner()
â”‚   â”œâ”€â”€ handleBatchImport()
â”‚   â””â”€â”€ ... (50+ ä¸ªå‡½æ•°)
â”‚
â”œâ”€â”€ utils.js          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ showCenterToast()
â”‚   â”œâ”€â”€ copyToClipboard()
â”‚   â”œâ”€â”€ validateBase32()
â”‚   â”œâ”€â”€ generateQRCodeDataURL()
â”‚   â”œâ”€â”€ waitForQRCodeLibrary()
â”‚   â”œâ”€â”€ formatOTPAuthURL()
â”‚   â””â”€â”€ ... (20+ ä¸ªå·¥å…·å‡½æ•°)
â”‚
â””â”€â”€ pwa.js            # PWA åŠŸèƒ½
    â”œâ”€â”€ Service Worker æ³¨å†Œ
    â”œâ”€â”€ PWA æ¨¡å¼æ£€æµ‹
    â””â”€â”€ æ›´æ–°æ£€æŸ¥
```

**æ¨¡å—åŠ è½½æµç¨‹**:

```
page.js â†’ scripts/index.js
    â”œâ”€ import state.js    (å…¨å±€å˜é‡åˆå§‹åŒ–)
    â”œâ”€ import auth.js     (è®¤è¯å‡½æ•°å®šä¹‰)
    â”œâ”€ import core.js     (æ ¸å¿ƒä¸šåŠ¡é€»è¾‘)
    â”œâ”€ import utils.js    (å·¥å…·å‡½æ•°)
    â””â”€ import pwa.js      (PWA åŠŸèƒ½)
         â†“
    inline <script>
         â†“
    é¡µé¢åŠ è½½å®Œæˆæ‰§è¡Œ
```

### æ¨¡å—åŒ– CSS (4 ä¸ªæ¨¡å—)

```
styles/
â”œâ”€â”€ base.js           # åŸºç¡€æ ·å¼
â”‚   â”œâ”€â”€ * { box-sizing, margin, padding }
â”‚   â”œâ”€â”€ body { font, background }
â”‚   â”œâ”€â”€ .container
â”‚   â”œâ”€â”€ .header
â”‚   â””â”€â”€ .theme-toggle
â”‚
â”œâ”€â”€ components.js     # ç»„ä»¶æ ·å¼
â”‚   â”œâ”€â”€ .secret-card
â”‚   â”œâ”€â”€ .otp-preview
â”‚   â”œâ”€â”€ .progress-bar
â”‚   â”œâ”€â”€ .action-menu
â”‚   â””â”€â”€ .search-bar
â”‚
â”œâ”€â”€ modals.js         # æ¨¡æ€æ¡†æ ·å¼
â”‚   â”œâ”€â”€ .modal
â”‚   â”œâ”€â”€ .modal-content
â”‚   â”œâ”€â”€ .modal-header
â”‚   â”œâ”€â”€ .form-group
â”‚   â””â”€â”€ .btn-*
â”‚
â””â”€â”€ responsive.js     # å“åº”å¼æ ·å¼
    â”œâ”€â”€ @media (max-width: 480px)
    â”œâ”€â”€ @media (min-width: 481px)
    â””â”€â”€ @media (min-width: 1200px)
```

**æ ·å¼åŠ è½½æµç¨‹**:

```
page.js â†’ styles/index.js
    â”œâ”€ import base.js
    â”œâ”€ import components.js
    â”œâ”€ import modals.js
    â””â”€ import responsive.js
         â†“
    åˆå¹¶ä¸ºå•ä¸ª <style> æ ‡ç­¾
         â†“
    inline åˆ° HTML
```

### PWA æ¶æ„

#### Service Worker ç¼“å­˜ç­–ç•¥

```
Service Worker (sw.js)
â”œâ”€â”€ Static Cache (v2)
â”‚   â”œâ”€â”€ / (ä¸»é¡µé¢)
â”‚   â”œâ”€â”€ /manifest.json
â”‚   â”œâ”€â”€ /icon-192.png
â”‚   â””â”€â”€ /icon-512.png
â”‚
â”œâ”€â”€ CDN Cache (ç™½åå•)
â”‚   â”œâ”€â”€ jsQR.min.js
â”‚   â””â”€â”€ qrcode.min.js
â”‚
â””â”€â”€ Runtime Cache
    â””â”€â”€ API å“åº”ï¼ˆä¸ç¼“å­˜ï¼‰
```

**ç¼“å­˜ç­–ç•¥**:

- **é™æ€èµ„æº**: Cache First (ç¼“å­˜ä¼˜å…ˆ)
- **CDN èµ„æº**: Cache First + CORS å¤„ç†
- **API è¯·æ±‚**: Network Only (å§‹ç»ˆä»ç½‘ç»œè·å–)
- **å…¶ä»–å¤–éƒ¨èµ„æº**: Network Only + é™é»˜å¤±è´¥

**æ›´æ–°æœºåˆ¶**:

```javascript
// 1. Service Worker å®‰è£…
self.addEventListener('install', (event) => {
	// é¢„ç¼“å­˜é™æ€èµ„æº
	event.waitUntil(
		caches.open(CACHE_NAME).then((cache) => {
			return cache.addAll(STATIC_RESOURCES);
		}),
	);
	self.skipWaiting(); // ç«‹å³æ¿€æ´»
});

// 2. Service Worker æ¿€æ´»
self.addEventListener('activate', (event) => {
	// æ¸…ç†æ—§ç¼“å­˜
	event.waitUntil(
		caches.keys().then((names) => {
			return Promise.all(names.filter((name) => name !== CACHE_NAME && name !== RUNTIME_CACHE).map((name) => caches.delete(name)));
		}),
	);
	self.clients.claim(); // ç«‹å³æ§åˆ¶é¡µé¢
});

// 3. æ‹¦æˆªè¯·æ±‚
self.addEventListener('fetch', (event) => {
	const url = new URL(event.request.url);

	if (url.origin === location.origin) {
		// æœ¬åœ°èµ„æºï¼šç¼“å­˜ä¼˜å…ˆ
		event.respondWith(
			caches.match(event.request).then((response) => {
				return response || fetch(event.request);
			}),
		);
	} else if (isCDNLibrary(url)) {
		// CDN èµ„æºï¼šç¼“å­˜ä¼˜å…ˆ + CORS
		event.respondWith(
			caches.match(event.request).then((response) => {
				return response || fetch(event.request, { mode: 'cors' });
			}),
		);
	} else {
		// å…¶ä»–èµ„æºï¼šç›´æ¥é€ä¼ 
		event.respondWith(fetch(event.request));
	}
});
```

---

## è®¾è®¡æ¨¡å¼

### 1. æ¨¡å—åŒ–è®¾è®¡ (Modular Design)

**åŸåˆ™**: æ¯ä¸ªæ¨¡å—è´Ÿè´£å•ä¸€èŒè´£

```
âœ… å¥½çš„æ¨¡å—è®¾è®¡:
- auth.js: åªå¤„ç†è®¤è¯ç›¸å…³é€»è¾‘
- encryption.js: åªå¤„ç†åŠ å¯†è§£å¯†
- backup.js: åªå¤„ç†å¤‡ä»½é€»è¾‘

âŒ ä¸å¥½çš„è®¾è®¡:
- utils.js: æ··æ‚äº†è®¤è¯ã€åŠ å¯†ã€å¤‡ä»½ç­‰æ‰€æœ‰åŠŸèƒ½
```

### 2. ä¾èµ–æ³¨å…¥ (Dependency Injection)

**åº”ç”¨**: ç¯å¢ƒå˜é‡ (`env`) é€šè¿‡å‚æ•°ä¼ é€’

```javascript
// âœ… å¥½çš„è®¾è®¡
export async function handleGetSecrets(env) {
	const logger = getLogger(env); // æ³¨å…¥ä¾èµ–
	const data = await env.SECRETS_KV.get('secrets');
}

// âŒ ä¸å¥½çš„è®¾è®¡
let globalEnv;
export function initEnv(env) {
	globalEnv = env;
}
export async function handleGetSecrets() {
	const data = await globalEnv.SECRETS_KV.get('secrets');
}
```

### 3. å·¥å‚æ¨¡å¼ (Factory Pattern)

**åº”ç”¨**: åˆ›å»ºå“åº”å¯¹è±¡

```javascript
// å·¥å‚å‡½æ•°
export function createJsonResponse(data, status = 200) {
	return new Response(JSON.stringify(data), {
		status,
		headers: {
			'Content-Type': 'application/json',
			...getCORSHeaders(),
		},
	});
}

// ä½¿ç”¨
return createJsonResponse({ success: true, data: secrets });
```

### 4. ç­–ç•¥æ¨¡å¼ (Strategy Pattern)

**åº”ç”¨**: OTP ç®—æ³•é€‰æ‹©

```javascript
// ç­–ç•¥æ¥å£
const OTP_STRATEGIES = {
	totp: generateTOTP,
	hotp: generateHOTP,
};

// ä½¿ç”¨ç­–ç•¥
export async function generateOTP(secret, type = 'totp', options = {}) {
	const strategy = OTP_STRATEGIES[type];
	if (!strategy) {
		throw new Error(`Unsupported OTP type: ${type}`);
	}
	return await strategy(secret, options);
}
```

### 5. è£…é¥°å™¨æ¨¡å¼ (Decorator Pattern)

**åº”ç”¨**: æ€§èƒ½ç›‘æ§åŒ…è£…

```javascript
// è£…é¥°å™¨
function withPerformanceLogging(fn, name) {
	return async function (...args) {
		const timer = new PerformanceTimer(name, logger);
		try {
			const result = await fn(...args);
			timer.end({ success: true });
			return result;
		} catch (error) {
			timer.cancel();
			throw error;
		}
	};
}

// ä½¿ç”¨
const handleGetSecrets = withPerformanceLogging(async (env) => {
	// åŸå§‹é€»è¾‘
}, 'GetSecrets');
```

### 6. ä¸­é—´ä»¶æ¨¡å¼ (Middleware Pattern)

**åº”ç”¨**: è¯·æ±‚å¤„ç†æµæ°´çº¿

```
è¯·æ±‚ â†’ CORSä¸­é—´ä»¶ â†’ è®¤è¯ä¸­é—´ä»¶ â†’ é™æµä¸­é—´ä»¶ â†’ è·¯ç”±å¤„ç† â†’ å“åº”
```

```javascript
// ä¸­é—´ä»¶é“¾
async function handleRequest(request, env) {
	// ä¸­é—´ä»¶ 1: CORS
	const corsResponse = handleCORS(request);
	if (corsResponse) return corsResponse;

	// ä¸­é—´ä»¶ 2: è®¤è¯
	if (requiresAuth(pathname)) {
		const isAuthorized = await verifyAuth(request, env);
		if (!isAuthorized) return createUnauthorizedResponse();
	}

	// ä¸­é—´ä»¶ 3: é™æµ
	const rateLimitResult = await checkRateLimit(request, env);
	if (!rateLimitResult.allowed) {
		return createRateLimitResponse(rateLimitResult);
	}

	// æœ€ç»ˆå¤„ç†
	return await routeRequest(pathname, method, request, env);
}
```

### 7. è§‚å¯Ÿè€…æ¨¡å¼ (Observer Pattern)

**åº”ç”¨**: æ•°æ®å˜æ›´ â†’ å¤‡ä»½è§¦å‘

```javascript
// ä¸»é¢˜ (Subject)
async function saveSecretsToKV(env, secrets, reason) {
	// ä¿å­˜æ•°æ®
	await env.SECRETS_KV.put('secrets', encrypted);

	// é€šçŸ¥è§‚å¯Ÿè€…
	await triggerBackup(secrets, env, { reason }); // è§‚å¯Ÿè€…
}

// è§‚å¯Ÿè€… (Observer)
export async function triggerBackup(secrets, env, options) {
	// å“åº”æ•°æ®å˜æ›´äº‹ä»¶
	await backupManager.executeBackup(secrets, options.reason);
}
```

### 8. å•ä¾‹æ¨¡å¼ (Singleton Pattern)

**åº”ç”¨**: å¤‡ä»½ç®¡ç†å™¨ã€ç›‘æ§ç³»ç»Ÿ

```javascript
// å•ä¾‹æ¨¡å¼
let backupManagerInstance = null;

export function getBackupManager(env) {
	if (!backupManagerInstance) {
		backupManagerInstance = new BackupManager(env);
	}
	return backupManagerInstance;
}
```

---

## æ€§èƒ½ä¼˜åŒ–

### 1. ä»£ç ä¼˜åŒ–

- **æ¨¡å—åŒ–**: æ‹†åˆ†ä¸ºå°æ¨¡å—ï¼Œä¾¿äºç»´æŠ¤å’Œç¼“å­˜
- **æ‡’åŠ è½½**: Service Worker æŒ‰éœ€ç¼“å­˜èµ„æº
- **æœ€å°åŒ–**: å‡å°‘ä¸å¿…è¦çš„è®¡ç®—å’Œå†…å­˜ä½¿ç”¨

### 2. ç¼“å­˜ç­–ç•¥

- **é™æ€èµ„æº**: é•¿æœŸç¼“å­˜ï¼ˆPWAï¼‰
- **CDN èµ„æº**: ç¼“å­˜ä¼˜å…ˆç­–ç•¥
- **API å“åº”**: ä¸ç¼“å­˜ï¼ˆå®æ—¶æ•°æ®ï¼‰

### 3. æ•°æ®åº“ä¼˜åŒ–

- **æ‰¹é‡æ“ä½œ**: ä¸€æ¬¡æ€§è¯»å–å’Œå†™å…¥
- **æ•°æ®å‹ç¼©**: ä½¿ç”¨åŠ å¯†åŒæ—¶å‹ç¼©æ•°æ®
- **ç´¢å¼•ä¼˜åŒ–**: ä½¿ç”¨æœ‰æ„ä¹‰çš„ KV key

### 4. ç½‘ç»œä¼˜åŒ–

- **å…¨çƒ CDN**: Cloudflare Edge Network
- **HTTP/2**: å¤šè·¯å¤ç”¨
- **å‹ç¼©**: Gzip/Brotli è‡ªåŠ¨å‹ç¼©

---

## å®‰å…¨æ¶æ„

### å¤šå±‚å®‰å…¨é˜²æŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Cloudflare Edge å±‚                 â”‚
â”‚     - DDoS é˜²æŠ¤                        â”‚
â”‚     - WAF (Web Application Firewall)   â”‚
â”‚     - Bot ç®¡ç†                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. åº”ç”¨å±‚å®‰å…¨                         â”‚
â”‚     - HttpOnly Cookie è®¤è¯             â”‚
â”‚     - CORS ç™½åå•                      â”‚
â”‚     - CSP Header                       â”‚
â”‚     - Rate Limiting                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ•°æ®å±‚å®‰å…¨                         â”‚
â”‚     - AES-GCM 256 ä½åŠ å¯†               â”‚
â”‚     - Cloudflare Secrets å­˜å‚¨å¯†é’¥      â”‚
â”‚     - åŠ å¯†å¤‡ä»½                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ç›‘æ§å’Œå®¡è®¡                         â”‚
â”‚     - ç»“æ„åŒ–æ—¥å¿—                       â”‚
â”‚     - é”™è¯¯è¿½è¸ª                         â”‚
â”‚     - æ€§èƒ½ç›‘æ§                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ‰©å±•æ€§è®¾è®¡

### æ°´å¹³æ‰©å±•

- âœ… æ— çŠ¶æ€è®¾è®¡ï¼šæ¯ä¸ªè¯·æ±‚ç‹¬ç«‹å¤„ç†
- âœ… å…¨çƒåˆ†å¸ƒï¼šè‡ªåŠ¨åœ¨è¾¹ç¼˜èŠ‚ç‚¹è¿è¡Œ
- âœ… è‡ªåŠ¨æ‰©ç¼©å®¹ï¼šæ ¹æ®æµé‡è‡ªåŠ¨è°ƒæ•´

### åŠŸèƒ½æ‰©å±•

- âœ… æ’ä»¶å¼æ¶æ„ï¼šæ–°åŠŸèƒ½ä½œä¸ºç‹¬ç«‹æ¨¡å—æ·»åŠ 
- âœ… ç­–ç•¥æ¨¡å¼ï¼šæ˜“äºæ·»åŠ æ–°çš„ OTP ç®—æ³•
- âœ… ä¸­é—´ä»¶æ¨¡å¼ï¼šæ˜“äºæ·»åŠ æ–°çš„è¯·æ±‚å¤„ç†é€»è¾‘

---

## æ€»ç»“

2FA é‡‡ç”¨ç°ä»£åŒ–çš„æ— æœåŠ¡å™¨æ¶æ„ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

| ç‰¹æ€§       | è¯´æ˜                                 |
| ---------- | ------------------------------------ |
| **é«˜æ€§èƒ½** | å…¨çƒ CDN + è¾¹ç¼˜è®¡ç®—ï¼Œå¹³å‡å“åº” < 50ms |
| **é«˜å¯ç”¨** | 99.99% SLAï¼Œè‡ªåŠ¨æ•…éšœè½¬ç§»             |
| **é«˜å®‰å…¨** | å¤šå±‚å®‰å…¨é˜²æŠ¤ + AES-256 åŠ å¯†          |
| **æ˜“ç»´æŠ¤** | æ¨¡å—åŒ–è®¾è®¡ + å®Œæ•´ç›‘æ§                |
| **æ˜“æ‰©å±•** | æ— çŠ¶æ€ + æ’ä»¶å¼æ¶æ„                  |
| **ä½æˆæœ¬** | æŒ‰éœ€è®¡è´¹ + å…è´¹é¢åº¦                  |

---

**ç›¸å…³æ–‡æ¡£**:

- [éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md) - å¦‚ä½•éƒ¨ç½²åº”ç”¨
- [API å‚è€ƒ](API_REFERENCE.md) - API ç«¯ç‚¹æ–‡æ¡£
- [åŠŸèƒ½æ–‡æ¡£](features/) - å„åŠŸèƒ½æ¨¡å—è¯¦è§£

---
